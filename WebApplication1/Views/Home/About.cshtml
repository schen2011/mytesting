@{
    ViewBag.Title = "About";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<body class='default'>

    <h2>@ViewBag.Title.</h2>
    <h3>@ViewBag.Message</h3>
    <style src="~/jqwidgets/styles/jqx.base.css" type="text/css"></style>
    <p>Use this area to provide additional information.</p>
    <form>
        <input type="text" placeholder="Search Site/Machine" />
        <div id="treeGrid"></div>
    </form>
</body>

    <script>
        $(document).ready(function () {


            var employees = [
                { "EmployeeID": "NKG", "FirstName": "Nancy", "LastName": "Davolio", "ReportsTo": null, "Country": "USA"},
                { "EmployeeID": 2, "FirstName": "Andrew", "LastName": "Fuller", "ReportsTo": "NKG", "Country": "USA"},
                { "EmployeeID": 3, "FirstName": "Janet", "LastName": "Leverling", "ReportsTo": "NKG", "Country": "USA"},
                { "EmployeeID": 4, "FirstName": "Margaret", "LastName": "Peacock", "ReportsTo": null, "Country": "USA"},
            ];
            // prepare the data
            var source =
            {
                dataType: "json",
                dataFields: [
                    { name: 'EmployeeID', type: 'number' },
                    { name: 'ReportsTo', type: 'number' },
                    { name: 'FirstName', type: 'string' },
                    { name: 'LastName', type: 'string' },
                    { name: 'Country', type: 'string' }
                ],
                hierarchy:
                {
                    keyDataField: { name: 'EmployeeID' },
                    parentDataField: { name: 'ReportsTo' }
                },
                id: 'EmployeeID',
                localData: employees
            };
            var dataAdapter = new $.jqx.dataAdapter(source);
            // create Tree Grid
            $("#treeGrid").jqxTreeGrid(
            {   /*
                width: 850,
                source: dataAdapter,
                sortable: true,
                */
                width: 850,
                source: dataAdapter,
                pageable: true,
                columnsResize: true,
                sortable: true,
                filterable: true,
                filterMode: 'advanced',

                ready: function () {
                    $("#treeGrid").jqxTreeGrid('expandRow', '2');
                },
                columns: [
                  { text: 'FirstName', columnGroup: 'Name', dataField: 'FirstName', width: 200 },
                  { text: 'LastName', columnGroup: 'Name', dataField: 'LastName', width: 200 },
                  { text: 'ReportsTo', dataField: 'ReportsTo', width: 200 },
                  { text: 'Country', dataField: 'Country' }
                ],
                columnGroups: [
                  { text: 'Name', name: 'Name' }
                ]
            });


            var table = $('#example').DataTable();

            table.columns().every(function () {
                var that = this;

                $('input', this.header()).on('keyup change', function () {
                    if (that.search() !== this.value) {
                        that
                            .search(this.value)
                            .draw();
                    }
                });
            });


            /*

            $.ajax({
                type: "get",
                url: MyAppUrlSettings.MyUsefulUrl,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: onSuccess,
                failure: function (response) {
                    alert(response.d);
                }
            });
            */
        });
    </script>

